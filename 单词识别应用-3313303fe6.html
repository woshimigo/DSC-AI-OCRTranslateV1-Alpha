<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>单词识别应用</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .container {
            background-color: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 25px;
            font-size: 24px;
        }
        
        .upload-area {
            border: 2px dashed #4CAF50;
            border-radius: 10px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-area:hover {
            background-color: #f9f9f9;
        }
        
        .upload-icon {
            font-size: 48px;
            color: #4CAF50;
            margin-bottom: 15px;
        }
        
        .upload-text {
            color: #666;
            font-size: 16px;
        }
        
        #imagePreview {
            max-width: 100%;
            margin-top: 20px;
            border-radius: 8px;
            display: none;
        }
        
        .result-area {
            display: none;
            margin-top: 30px;
        }
        
        .word-english {
            font-size: 36px;
            font-weight: bold;
            color: #222;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .word-chinese {
            font-size: 24px;
            color: #444;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .pronunciation {
            text-align: center;
        }
        
        .pronunciation-btn {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .pronunciation-btn:hover {
            background-color: #45a049;
        }
        
        .pronunciation-btn i {
            margin-right: 8px;
        }
        
        .font-controls {
            display: flex;
            justify-content: center;
            margin-top: 30px;
            gap: 10px;
        }
        
        .font-btn {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            background-color: white;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .font-btn.active {
            background-color: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }
        
        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
        }
        
        .loading i {
            font-size: 24px;
            color: #4CAF50;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); } }
        
        .error-message {
            display: none;
            color: #ff4444; text-align: center; padding: 15px; background-color: #ffebee; border-radius: 8px; margin-top: 
            20px;
        }
        
        .instructions { color: #66; margin-top: 
            -px; font-size: 14px; line-height: 
            1.; text-align: center; padding: 0 px; }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/ Icons.4.7.0/css/font-awesome.min.css"> </head> <body><div class="container"> <h1><i class="fa fa-camera"></i>单词识别应用</h1> <div class="upload-area" id="uploadArea"> <div class="upload-icon"> <i class="fa fa-cloud_upload"></i> </div><div class="upload-text">点击上传图片或拖放至此处</div><input type="file" id="imageUpload" accept="image/*" style="display: none;"> <img id="imagePreview"> </div><p class="instructions">支持识别图片中的英文单词，自动获取中文翻译及发音</p><div class="loading" id="loading"> <i class="fa fa-circle-o-notch fa-spin"></i> <p>处理中，请稍候...</p></div><div class="error-message" id="errorMessage"></div><div class="result-area" id="resultArea"> <div class="word english"></div> <div class="word-chinese" id="wordChinese"></div> <div class="pronunciation"> <button class="pronunciation-btn" id="pronunciationBtn"> <i class="fa fa-volume-up"></i> 听发音 </button> </div> <div class="font-controls"> <button class="font-btn active" data-size="small" id="smallFont">小</button> <button class="font-btn" data-size="medium" id="mediumFont">中</button> <button class="font-btn" data-size="large" id="largeFont">大</button> </div> </div> </div> <script> // 配置API密钥（实际使用时需要替换为自己的密钥） const BAIDU_API_KEY = "YOUR_BAIDU_API_KEY"; const BAIDU_SECRET_KEY = "YOUR_BAIDU_SECRET_KEY"; // DOM元素 const uploadArea = document.getElementById('uploadArea'); const imageUpload = document.getElementById('imageUpload'); const imagePreview = document.getElementById('imagePreview'); const loading = document.getElementById('loading'); const errorMessage = document.getElementById('errorMessage'); const resultArea = document.getElementById('resultArea'); const wordEnglish = document.getElementById('wordEnglish'); const wordChinese = document.getElementById('wordChinese'); const pronunciationBtn = document.getElementById('pronunciationBtn'); const fontButtons = document.querySelectorAll('.font-btn'); // 当前字体大小 let currentFontSize = 'medium'; // 上传区域点击事件 uploadArea.addEventListener('click', () => { imageUpload.click(); }); // 拖放功能 uploadArea.addEventListener('dragover', (e) => { e.preventDefault(); uploadArea.style.borderColor = '#4CAF50'; uploadArea.style.backgroundColor = '#f1f8e9'; }); uploadArea.addEventListener('dragleave', () => { uploadArea.style.borderColor = '#4CAF50'; uploadArea.style.backgroundColor = 'transparent'; }); uploadArea.addEventListener('drop', (e) => { e.preventDefault(); uploadArea.style.borderColor = '#4CAF50'; uploadArea.style.backgroundColor = 'transparent'; if (e.dataTransfer.files.length) { handleImageUpload(e.dataTransfer.files[0]); } }); // 图片选择事件 imageUpload.addEventListener('change', (e) => { if (e.target.files.length) { handleImageUpload(e.target.files[0]); } }); // 处理图片上传 function handleImageUpload(file) { // 显示预览 const reader = new FileReader(); reader.onload = (e) => { imagePreview.src = e.target.result; imagePreview.style.display = 'block'; processImage(e.target.result); }; reader.readAsDataURL(file); } // 处理图片识别 function processImage(imageDataUrl) { // 隐藏结果和错误信息 resultArea.style.display = 'none'; errorMessage.style.display = 'none'; // 显示加载状态 loading.style.display = 'block'; // 将图片转换为Base64（去掉data URL前缀） const base64Image = imageDataUrl.split(',')[1]; // 获取百度OCR的Access Token getBaiduAccessToken().then(token => { // 调用百度OCR API识别图片中的文字 return recognizeImageWithBaiduOCR(token, base64Image); }).then(ocrResult => { // 提取识别结果中的英文单词 const words = extractEnglishWords(ocrResult); if (words.length === 0) { throw new Error('未识别到英文单词，请尝试其他图片'); } // 取第一个识别到的英文单词 const word = words[0]; // 调用有道API获取单词信息 return getWordInfo(word); }).then(wordInfo => { // 显示结果 showResult(wordInfo); // 隐藏加载状态 loading.style.display = 'none'; }).catch(error => { // 显示错误信息 errorMessage.textContent = error.message; errorMessage.style.display = 'block'; // 隐藏加载状态 loading.style.display = 'none'; }); } // 获取百度OCR的Access Token function getBaiduAccessToken() { return new Promise((resolve, reject) => { const url = `https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=${BAIDU_API_KEY}&client_secret=${BAIDU_SECRET_KEY}`; fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/x-www-form-urlencoded' } }).then(response => response.json()).then(data => { if (data.access_token) { resolve(data.access_token); } else { reject(new Error('获取百度API授权失败')); } }).catch(error => { reject(new Error('获取百度API授权失败: ' + error.message)); }); }); } // 调用百度OCR API识别图片 function recognizeImageWithBaiduOCR(token, imageBase64) { return new Promise((resolve, reject) => { const url = `https://aip.baidubce.com/rest/2.0/ocr/v1/general_basic?access_token=${token}`; fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, body: `image=${encodeURIComponent(imageBase64)}&language_type=ENG` }).then(response => response.json()).then(data => { if (data.words_result && data.words_result.length > 0) { resolve(data); } else { reject(new Error('图片识别失败，请确保图片中有清晰的英文单词')); } }).catch(error => { reject(new Error('图片识别失败: ' + error.message)); }); }); } // 提取英文单词 function extractEnglishWords(ocrResult) { const englishWords = []; // 正则表达式匹配英文单词（包含大小写字母和常见标点） const englishRegex = /^[A-Za-z\s'-]+$/; ocrResult.words_result.forEach(item => { const text = item.words.trim(); if (englishRegex.test(text)) { // 分割多个单词 englishWords.push(...text.split(/\s+/)); } }); // 去重并过滤空字符串 return [...new Set(englishWords)].filter(word => word.length > 0); } // 获取单词信息（翻译和发音） function getWordInfo(word) { return new Promise((resolve, reject) => { // 使用有道词典API获取翻译 // 简单起见，这里直接构造发音URL，实际应用中可以调用有道API获取更详细信息 const wordInfo = { english: word, chinese: "正在获取翻译...", pronunciationUrl: `http://dict.youdao.com/dictvoice?audio=${encodeURIComponent(word)}&type=0` }; // 调用有道翻译API获取中文翻译 const youdaoUrl = `https://fanyi.youdao.com/translate?&doctype=json&type=AUTO&i=${encodeURIComponent(word)}`; fetch(youdaoUrl).then(response => response.json()).then(data => { if (data.translateResult && data.translateResult.length > 0 && data.translateResult[0].length > 0) { wordInfo.chinese = data.translateResult[0][0].tgt; resolve(wordInfo); } else { // 如果翻译失败，仍返回单词信息但翻译显示为"未找到翻译" wordInfo.chinese = "未找到翻译"; resolve(wordInfo); } }).catch(error => { // 网络错误时仍返回单词信息，但翻译显示为"翻译服务不可用" wordInfo.chinese = "翻译服务不可用"; resolve(wordInfo); }); }); } // 显示结果 function showResult(wordInfo) { wordEnglish.textContent = wordInfo.english; wordChinese.textContent = wordInfo.chinese; pronunciationBtn.onclick = () => { // 创建音频元素播放发音 const audio = new Audio(wordInfo.pronunciationUrl); audio.play().catch(error => { errorMessage.textContent = "播放发音失败，请检查网络连接"; errorMessage.style.display = 'block'; }); }; resultArea.style.display = 'block'; // 应用当前字体大小 applyFontSize(currentFontSize); } // 字体大小控制 fontButtons.forEach(button => { button.addEventListener('click', () => { // 移除其他按钮的active类 fontButtons.forEach(btn => btn.classList.remove('active')); // 添加当前按钮的active类 button.classList.add('active'); // 应用字体大小 currentFontSize = button.dataset.size; applyFontSize(currentFontSize); }); }); // 应用字体大小 function applyFontSize(size) { switch(size) { case 'small': wordEnglish.style.fontSize = '28px'; wordChinese.style.fontSize = '18px'; pronunciationBtn.style.fontSize = '14px'; break; case 'medium': wordEnglish.style.fontSize = '36px'; wordChinese.style.fontSize = '24px'; pronunciationBtn.style.fontSize = '16px'; break; case 'large': wordEnglish.style.fontSize = '48px'; wordChinese.style.fontSize = '32px'; pronunciationBtn.style.fontSize = '18px'; break; } } </script> </body> </html>